(()=>{"use strict";let t=[],e=0;const n="https://hacker-news.firebaseio.com/v0";function o(t,e={}){const n=document.createElement(t);if(e.padre&&e.padre.appendChild(n),void 0!==e.text&&(n.textContent=e.text),e.classi&&n.classList.add(...e.classi),e.attributi)for(const[t,o]of Object.entries(e.attributi))n.setAttribute(t,o);if(e.eventi)for(const[t,o]of Object.entries(e.eventi))n.addEventListener(t,o);return n}const i=document.querySelector(".contenitoreApp"),a=o("div",{classi:["contenitoreNews"],padre:i}),s=(o("h1",{text:"News in tempo Reale",classi:["titolo"],padre:i}),o("button",{text:"Carica piÃ¹ News",classi:["bottoneLoadMore","btn-primary"],padre:i}));async function r(){const n=t.slice(e,e+10);for(let t of n)await c(t);e+=10,e>=t.length&&(s.style.display="none")}async function c(t){try{const e=await fetch(`${n}/item/${t}.json`);if(!e.ok)throw new Error("Fetch dettagli news Fallito");const i=await e.json();if(!i)return;console.log(i);const s=new Date(1e3*i.time).toLocaleString("it-IT");o("div",{classi:["nuovo-item"],padre:a}).innerHTML=`<h2><a href="${i.url||"#"}" target="_blank">${i.title}</a></h2>\n        <p class="data">Pubblicato il: ${s}</p>`}catch(t){}}o(""),s.addEventListener("click",r),async function(){try{const e=await fetch(`${n}/newstories.json`);if(!e.ok)throw new Error("Fetch Lista news fallito");t=await e.json(),console.log(t),r()}catch(t){console.error("Errore Caricamento News",t)}}()})();